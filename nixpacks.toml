# Railway Nixpacks Configuration
# nixPkgs installs Nix Chromium (real binary, not an apt snap wrapper).
# The build phase captures its path to /app/.chromium-path for reliable runtime lookup.
# Puppeteer also downloads its own bundled Chrome during npm install as a fallback.

[phases.setup]
nixPkgs = ["chromium"]

[phases.build]
cmds = ["which chromium > /app/.chromium-path 2>/dev/null || echo '' > /app/.chromium-path"]
